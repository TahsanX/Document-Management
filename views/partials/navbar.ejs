<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document Management System</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: #0f172a;
      }

      .navbar {
        background: rgba(15, 23, 42, 0.95) !important;
        backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(51, 65, 85, 0.3) !important;
        padding: 1rem 0;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        transition: all 0.3s ease;
      }

      .navbar.scrolled {
        background: rgba(15, 23, 42, 0.98) !important;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      }

      .navbar-brand {
        font-size: 1.5rem !important;
        font-weight: 700 !important;
        color: white !important;
        text-decoration: none !important;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .navbar-brand:hover {
        color: #3b82f6 !important;
      }

      .navbar-brand i {
        color: #3b82f6;
        font-size: 1.2rem;
      }

      .navbar-toggler {
        border: none !important;
        padding: 0.5rem !important;
        border-radius: 0.5rem;
        background: rgba(59, 130, 246, 0.1);
        transition: all 0.2s ease;
      }

      .navbar-toggler:hover {
        background: rgba(59, 130, 246, 0.2);
      }

      .navbar-toggler:focus {
        box-shadow: none !important;
      }

      .navbar-toggler-icon {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%2859, 130, 246, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='m4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
      }

      .offcanvas {
        background: #1e293b !important;
        border-left: 1px solid rgba(51, 65, 85, 0.3);
      }

      .offcanvas-header {
        border-bottom: 1px solid rgba(51, 65, 85, 0.3);
        padding: 1.5rem;
      }

      .offcanvas-title {
        color: white !important;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .offcanvas-title i {
        color: #3b82f6;
      }

      .btn-close {
        background: transparent;
        border: 1px solid rgba(71, 85, 105, 0.5);
        border-radius: 0.5rem;
        padding: 0.5rem;
        filter: invert(1);
        opacity: 0.8;
        transition: all 0.2s ease;
      }

      .btn-close:hover {
        opacity: 1;
        border-color: #64748b;
      }

      .offcanvas-body {
        padding: 1.5rem;
      }

      .navbar-nav {
        gap: 0.5rem;
      }

      .nav-link {
        color: #e2e8f0 !important;
        font-weight: 500 !important;
        padding: 0.75rem 1rem !important;
        border-radius: 0.5rem !important;
        transition: all 0.2s ease !important;
        display: flex !important;
        align-items: center !important;
        gap: 0.5rem !important;
      }

      .nav-link:hover {
        background: rgba(59, 130, 246, 0.1) !important;
        color: #3b82f6 !important;
      }

      .nav-link.active {
        background: rgba(59, 130, 246, 0.15) !important;
        color: #3b82f6 !important;
      }

      .nav-link i {
        font-size: 0.9rem;
        width: 16px;
        text-align: center;
      }

      .dept-links {
        border-top: 1px solid rgba(51, 65, 85, 0.3);
        margin-top: 1rem;
        padding-top: 1rem;
      }

      .dept-title {
        color: #94a3b8;
        font-size: 0.875rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        margin-bottom: 0.5rem;
        padding: 0 1rem;
      }

      .auth-links {
        border-top: 1px solid rgba(51, 65, 85, 0.3);
        margin-top: 1rem;
        padding-top: 1rem;
      }

      .logout-link {
        background: rgba(239, 68, 68, 0.1) !important;
        color: #ef4444 !important;
      }

      .logout-link:hover {
        background: rgba(239, 68, 68, 0.2) !important;
        color: #dc2626 !important;
      }

      .login-link {
        background: rgba(59, 130, 246, 0.1) !important;
        color: #3b82f6 !important;
      }

      .login-link:hover {
        background: rgba(59, 130, 246, 0.2) !important;
      }

      .signup-link {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8) !important;
        color: white !important;
        font-weight: 600 !important;
      }

      .signup-link:hover {
        background: linear-gradient(135deg, #1d4ed8, #1e40af) !important;
        transform: translateY(-1px);
      }

      /* Desktop menu for larger screens */
      @media (min-width: 992px) {
        .navbar-toggler {
          display: none;
        }

        .offcanvas {
          position: static !important;
          visibility: visible !important;
          background: transparent !important;
          border: none !important;
          transform: none !important;
          flex-grow: 1;
          width: auto !important;
          height: auto !important;
        }

        .offcanvas-header {
          display: none;
        }

        .offcanvas-body {
          padding: 0;
          display: flex !important;
          align-items: center;
          justify-content: flex-end;
        }

        .navbar-nav {
          flex-direction: row !important;
          align-items: center;
        }

        .dept-links,
        .auth-links {
          border: none;
          margin: 0;
          padding: 0;
        }

        .dept-title {
          display: none;
        }

        .nav-link {
          white-space: nowrap;
        }
      }

      /* Content spacing for fixed navbar */
      .main-content {
        margin-top: 80px;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg" data-bs-theme="dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">
          <i class="fas fa-file-alt"></i>
          Equipment Management
        </a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasNavbar"
          aria-controls="offcanvasNavbar"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div
          class="offcanvas offcanvas-end"
          tabindex="-1"
          id="offcanvasNavbar"
          aria-labelledby="offcanvasNavbarLabel"
        >
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasNavbarLabel">
              <i class="fas fa-file-alt"></i>
              Equipment Management
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="offcanvas"
              aria-label="Close"
            ></button>
          </div>

          <div class="offcanvas-body">
            <ul class="navbar-nav justify-content-end flex-grow-1">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="/">
                  <i class="fas fa-home"></i>
                  Home
                </a>
              </li>

              <!-- Token-based content -->
              <% if (typeof token !== 'undefined' && token) { %>
              <div class="dept-links d-lg-none">
                <div class="dept-title">Departments</div>
              </div>

              <% if (typeof dept !== 'undefined' && dept === "cse") { %>
              <li class="nav-item">
                <a class="nav-link" href="/cse">
                  <i class="fas fa-laptop-code"></i>
                  Computer Science
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/cse/cseAbout">
                  <i class="fas fa-laptop-code"></i>
                  ABOUT CSE
                </a>
              </li>
              <% } %> <% if (typeof dept !== 'undefined' && dept === "eee") { %>
              <li class="nav-item">
                <a class="nav-link" href="/eee">
                  <i class="fas fa-bolt"></i>
                  Electrical Engineering
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/eee/eeeAbout">
                  <i class="fas fa-bolt"></i>
                  ABOUT EEE
                </a>
              </li>
              <% } %> <% if (typeof dept !== 'undefined' && dept === "me") { %>
              <li class="nav-item">
                <a class="nav-link" href="/mecha">
                  <i class="fas fa-cogs"></i>
                  Mechanical Engineering
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/mecha/mechaAbout">
                  <i class="fas fa-cogs"></i>
                  ABOUT ME
                </a>
              </li>
              <% } %> <% if (typeof dept !== 'undefined' && dept === "ce") { %>

              <li class="nav-item">
                <a class="nav-link" href="/civil">
                  <i class="fas fa-building"></i>
                  Civil Engineering
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/civil/civilAbout">
                  <i class="fas fa-building"></i>
                  ABOUT CE
                </a>
              </li>
              <% } %>

              <div class="auth-links d-lg-none"></div>
              <li class="nav-item">
                <a class="nav-link logout-link" href="/logout">
                  <i class="fas fa-sign-out-alt"></i>
                  Logout
                </a>
              </li>
              <% } else { %>
              <div class="auth-links d-lg-none"></div>
              <li class="nav-item">
                <a class="nav-link login-link" href="/login">
                  <i class="fas fa-sign-in-alt"></i>
                  Login
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link signup-link" href="/signup">
                  <i class="fas fa-user-plus"></i>
                  Sign Up
                </a>
              </li>
              <% } %>
            </ul>
          </div>
        </div>
      </div>
    </nav>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <script>
      // Add scroll effect to navbar
      window.addEventListener("scroll", function () {
        const navbar = document.querySelector(".navbar");
        if (window.scrollY > 50) {
          navbar.classList.add("scrolled");
        } else {
          navbar.classList.remove("scrolled");
        }
      });

      // Close mobile menu when clicking on a link
      document.querySelectorAll(".nav-link").forEach((link) => {
        link.addEventListener("click", () => {
          const offcanvas = bootstrap.Offcanvas.getInstance(
            document.getElementById("offcanvasNavbar")
          );
          if (offcanvas) {
            offcanvas.hide();
          }
        });
      });
    </script>
  </body>
</html>
